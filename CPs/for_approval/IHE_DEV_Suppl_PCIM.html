<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Integrating the Healthcare Enterprise</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book">
<div id="header">
<h1>Integrating the Healthcare Enterprise</h1>
<div class="details">
<span id="revnumber">version Revision 1.2 - Trial Implementation</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_foreword">Foreword</a></li>
<li><a href="#_introduction_to_this_supplement">Introduction to this Supplement</a>
<ul class="sectlevel1">
<li><a href="#_open_issues_and_questions">Open Issues and Questions</a></li>
<li><a href="#_closed_issues">Closed Issues</a></li>
</ul>
</li>
<li><a href="#_general_introduction_and_shared_appendices">General Introduction and Shared Appendices</a></li>
<li><a href="#_appendix_aactor_summary_definitions">Appendix A&#8201;&#8212;&#8201;Actor Summary Definitions</a></li>
<li><a href="#_appendix_btransaction_summary_definitions">Appendix B&#8201;&#8212;&#8201;Transaction Summary Definitions</a></li>
<li><a href="#_appendix_dglossary">Appendix D&#8201;&#8212;&#8201;Glossary</a>
<ul class="sectlevel1">
<li><a href="#_copyright_licenses">Copyright Licenses</a></li>
<li><a href="#_domain_specific_additions">Domain-specific additions</a></li>
</ul>
</li>
<li><a href="#_7_point_of_care_identity_management_pcim_profile">7 Point-of-Care Identity Management (PCIM) Profile</a>
<ul class="sectlevel1">
<li><a href="#_7_1_pcim_actors_transactions_and_content_modules">7.1 PCIM Actors, Transactions, and Content Modules</a>
<ul class="sectlevel2">
<li><a href="#_7_1_1_actor_descriptions_and_actor_profile_requirements">7.1.1 Actor Descriptions and Actor Profile Requirements</a></li>
</ul>
</li>
<li><a href="#_7_2_pcim_actor_options">7.2 PCIM Actor Options</a>
<ul class="sectlevel2">
<li><a href="#_7_2_1_snapshot_option">7.2.1 Snapshot Option</a></li>
<li><a href="#_7_2_2_subscription_option">7.2.2 Subscription Option</a></li>
</ul>
</li>
<li><a href="#_7_3_pcim_required_actor_groupings">7.3 PCIM Required Actor Groupings</a></li>
<li><a href="#_7_4_pcim_overview">7.4 PCIM Overview</a>
<ul class="sectlevel2">
<li><a href="#_7_4_1_concepts">7.4.1 Concepts</a></li>
<li><a href="#_7_4_2_use_cases">7.4.2 Use Cases</a></li>
</ul>
</li>
<li><a href="#_7_5_pcim_security_considerations">7.5 PCIM Security Considerations</a></li>
<li><a href="#_7_6_pcim_cross_profile_considerations">7.6 PCIM Cross Profile Considerations</a>
<ul class="sectlevel2">
<li><a href="#_actor_roles">Actor Roles</a></li>
<li><a href="#_referenced_standards">Referenced Standards</a></li>
<li><a href="#_interaction_diagram">Interaction Diagram</a></li>
<li><a href="#_actor_roles_2">Actor Roles</a></li>
<li><a href="#_3_18_3_referenced_standards">3.18.3 Referenced Standards</a></li>
<li><a href="#_3_18_4_interaction_diagram">3.18.4 Interaction Diagram</a></li>
<li><a href="#_security_considerations">Security Considerations</a></li>
<li><a href="#_actor_roles_3">Actor Roles</a></li>
<li><a href="#_referenced_standards_2">Referenced Standards</a></li>
<li><a href="#_interaction_diagram_2">Interaction Diagram</a></li>
<li><a href="#_security_considerations_2">Security Considerations</a></li>
<li><a href="#_actor_roles_4">Actor Roles</a></li>
<li><a href="#_referenced_standards_3">Referenced Standards</a></li>
<li><a href="#_interaction_diagram_3">Interaction Diagram</a></li>
<li><a href="#_security_considerations_3">Security Considerations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_volume_2_namespace_additions">Volume 2 Namespace Additions</a></li>
<li><a href="#_appendix_aproposed_messages">Appendix A&#8201;&#8212;&#8201;Proposed Messages</a>
<ul class="sectlevel1">
<li><a href="#_a_1_report_device_patient_association_and_disassociation">A.1 Report Device-Patient Association and Disassociation</a>
<ul class="sectlevel2">
<li><a href="#_a_1_1_message_structure">A.1.1 Message Structure</a></li>
<li><a href="#_a_1_2_segments">A.1.2 Segments</a></li>
</ul>
</li>
<li><a href="#_a_2_device_patient_association_query_message">A.2 Device-Patient Association Query Message</a>
<ul class="sectlevel2">
<li><a href="#_a_2_1_scope">A.2.1 Scope</a></li>
<li><a href="#_a_2_2_use_case_roles">A.2.2 Use Case Roles</a></li>
<li><a href="#_a_2_3_details_of_device_patient_association_query_message_pcd_19">A.2.3 Details of Device-Patient Association Query Message [PCD-19]</a></li>
<li><a href="#_a_2_4_rcp_segment">A.2.4 RCP Segment</a></li>
</ul>
</li>
<li><a href="#_a_3_register_device">A.3 Register Device</a>
<ul class="sectlevel2">
<li><a href="#_a_3_1_message_structure">A.3.1 Message Structure</a></li>
<li><a href="#_a_3_2_segments">A.3.2 Segments</a></li>
</ul>
</li>
<li><a href="#_a_4_example_messages">A.4 Example Messages</a></li>
</ul>
</li>
<li><a href="#_4_national_extensions">4 National Extensions</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><strong>IHE Devices</strong>
<strong>Technical Framework Supplement</strong></p>
</div>
<div class="paragraph">
<p><strong>Point-of-Care Identity Management</strong>
<strong>(PCIM)</strong></p>
</div>
<div class="paragraph">
<p><strong>Revision 1.x&#8201;&#8212;&#8201;Trial Implementation</strong></p>
</div>
<div class="paragraph">
<p>Date: xxx,xx,2023
Author: IHE Devices Technical Committee
Email: <a href="mailto:dev@ihe.net">dev@ihe.net</a></p>
</div>
<div class="paragraph">
<p><strong>Please verify you have the most recent version of this document.</strong> See <a href="http://ihe.net/Technical_Frameworks/">here</a> for Trial Implementation and Final Text versions and <a href="http://ihe.net/Public_Comment/">here</a> for Public Comment versions.</p>
</div>
</div>
</div>
<h1 id="_foreword" class="sect0">Foreword</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>This is a supplement to the IHE Devices Domain Technical Framework.
Each supplement undergoes a process of public comment and trial implementation before being incorporated into the volumes of the Technical Frameworks.</p>
</div>
<div class="paragraph">
<p>This supplement is published on xx,xx 7, 2023 for trial implementation and may be available for testing at subsequent IHE Connectathons.
The supplement may be amended based on the results of testing.
Following successful testing it will be incorporated into the Patient Care Device Technical Framework.
Comments are invited and can be submitted at <a href="http://www.ihe.net/PCD_Public_Comments/" class="bare">http://www.ihe.net/PCD_Public_Comments/</a>.</p>
</div>
<div class="paragraph">
<p>This supplement describes changes to the existing technical framework documents.</p>
</div>
<div class="paragraph">
<p>&#8220;Boxed&#8221; instructions like the sample below indicate to the Volume Editor how to integrate the relevant section(s) into the relevant Technical Framework volume.</p>
</div>
<div class="paragraph">
<p>Amend Section X.X by the following:</p>
</div>
<div class="paragraph">
<p>Where the amendment adds text, make the added text <strong><u>bold underline</u></strong>.
Where the amendment removes text, make the removed text <strong><span class="line-through">bold strikethrough</span></strong>.
When entire new sections are added, introduce with editor&#8217;s instructions to &#8220;add new text&#8221; or similar, which for readability are not bolded or underlined.</p>
</div>
<div class="paragraph">
<p>General information about IHE can be found at <a href="http://www.ihe.net/">www.ihe.net</a>.</p>
</div>
<div class="paragraph">
<p>Information about the IHE Patient Care Device domain can be found at <a href="http://ihe.net/IHE_Domains/">ihe.net/IHE_Domains</a>.</p>
</div>
<div class="paragraph">
<p>Information about the organization of IHE Technical Frameworks and Supplements and the process used to create them can be found at <a href="http://ihe.net/IHE_Process/" class="bare">http://ihe.net/IHE_Process/</a> and <a href="http://ihe.net/Profiles/" class="bare">http://ihe.net/Profiles/</a>.</p>
</div>
<div class="paragraph">
<p>The current version of the IHE Patient Care Device Domain Technical Framework can be found at <a href="http://ihe.net/Technical_Frameworks/" class="bare">http://ihe.net/Technical_Frameworks/</a>.</p>
</div>
</div>
</div>
<h1 id="_introduction_to_this_supplement" class="sect0">Introduction to this Supplement</h1>
<div class="openblock partintro">
<div class="content">
This supplement to the IHE Patient Care Device Technical Frameworks adds the rationale and implementation details of the Point-of-Care Identity Management Profile to the Framework, providing a means for standards-based exchange between systems of information collected and confirmed at the point of care tracking the set of medical devices originating observations about each patient.
</div>
</div>
<div class="sect1">
<h2 id="_open_issues_and_questions">Open Issues and Questions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The work group solicits feedback on workflow effects and problems found in analyzing the profile and in trial implementation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_closed_issues">Closed Issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Discuss differences from previous approaches based on ADT messages: will be faster, closer to the actual events than ADT feeds, which have a different purpose and are often not well synchronized with actual events at the point-of-care.
Will enable devices, device controllers and a variety of other hospital systems to flexibly exchange information, publish or subscribe to change notifications.</p>
</div>
</div>
</div>
<h1 id="_general_introduction_and_shared_appendices" class="sect0">General Introduction and Shared Appendices</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>The <a href="http://ihe.net/Technical_Frameworks/#GenIntro">IHE Technical Framework General Introduction and Shared Appendices</a> are components shared by all of the IHE domain technical frameworks.
Each technical framework volume contains links to these documents where appropriate.</p>
</div>
<div class="paragraph">
<p>Update the following appendices to the General Introduction as indicated below.
Note that these are <strong>not</strong> appendices to Volume 1.</p>
</div>
</div>
</div>
<h1 id="_appendix_aactor_summary_definitions" class="sect0">Appendix A&#8201;&#8212;&#8201;Actor Summary Definitions</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>Add the following <strong>new</strong> actors to the IHE Technical Frameworks General Introduction Appendix A:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Actor Name</th>
<th class="tableblock halign-left valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Reporter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A system or person that asserts a device-patient association, disassociation, or attributes related to either such as current state or starting and ending times..</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Manager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A system that records, manages, and serves records of device-patient associations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Consumer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A system or person that queries a Device-Patient Association Manager for device-patient association records, either as a snapshot of current associations or as a subscription for ongoing updates.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Registrant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A system (including the device itself) or person that, when the device is set up for use by a Device-Patient Association Manager, uniquely identifies a device instance that may participate in device-patient associations.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<h1 id="_appendix_btransaction_summary_definitions" class="sect0">Appendix B&#8201;&#8212;&#8201;Transaction Summary Definitions</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>Add the following <strong>new</strong> transactions to the IHE Technical Frameworks General Introduction Appendix B:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Transaction Name and Number</th>
<th class="tableblock halign-left valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assert Device-Patient Association</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Device-Patient Association Reporter asserts to a Device-Patient Association Manager that a device has been associated with a patient, or updates data concerning a reported assertion.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assert Device-Patient Disassociation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Device-Patient Association Reporter asserts to a Device-Patient Association Manager that the association between a device and a patient has been terminated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Device-Patient Associations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Device-Patient Association Consumer sends a query to a Device-Patient Association Manager concerning the devices associated with a patient or set of patients currently or at a stated past time.
The Device-Patient Association Manager responds with the requested information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Register Device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Device Registrant sends, updates, or deletes a record of identifying information on a device instance for storage and use by the Device-Patient Association Manager.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<h1 id="_appendix_dglossary" class="sect0">Appendix D&#8201;&#8212;&#8201;Glossary</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>Add the following <strong>new</strong> glossary terms to the IHE Technical Frameworks General Introduction Appendix D.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Glossary Term</th>
<th class="tableblock halign-left valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assertion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A statement that a certain premise is true, for example that a device has been prepared to collect data about a patient.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A process of associating two related elements of information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Biometrics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A measurable physical characteristic or personal behavioral trait used to recognize the identity, or verify the claimed identity of a person.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Direct Association</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A patient association established by the observation and recording of a physical connection of a device to the patient.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Direct Device-Patient Association Assertion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A claim of direct device-patient association based on evidence.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indirect Device-Patient Association</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A patient association asserted on the basis of a common attribute shared by a device and patient, such as a location.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Location-based Assertion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An assertion of an association between two objects (e.g., a patient and a device, device-to-device, patient-to-caregiver), based solely upon the co-location (e.g., same room and bed) of these two objects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Observation-Patient Association</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The assignment of a device measurement/parameter to a specific patient.
Observation - patient associations are established through the connection relationship of a unique patient to a unique device at the point in time that the measurement was recorded by the device.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Conflict Notification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A message from a particular clinical IT system that it detects an inconsistency between different identity assertions.
For example, a device and an intermediary system may be simultaneously asserting that a single data stream represents two different patients.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Record Linkage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The process of binding and/or associating a discrete patient record to a discrete device record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Precondition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"What the system under analysis will ensure is true before letting the use case start."</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receiving System</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In the context of PCIM, any system which is a consumer of device-patient association or observation messages, such as an electronic medical record system, device gateway, or a device at the point of care.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The discrete representation of a specific and unique patient or the device in either the reporting or consuming system&#8217;s database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Strong Identity Assertion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A presumption of patient or device unique recognition using multiple factors that provides a high degree of accuracy and certainty (e.g., barcode, biometric).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Strong Identity Factors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An identifier designed to be unique (applies to only one person) and consistent over the appropriate domain for at least throughout the visit or encounter, for example, Medical Record Number or National ID number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique Device Identifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In the US, a unique identifier for a medical device that is recognized by the US FDA and which has a part that identifies the maker and model of the device (DI) and a part that identifies the particular instance of the device.
More generally, any identifier which allows a particular device to be uniquely identified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Weak Identity Assertion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A presumption of patient or device unique recognition using factors that provides a low degree of accuracy and certainty (e.g., name, location).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Weak Identity Factors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factors which can contribute to identification, but typically are not unique to patient;
for example, name, sex, date of birth.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[.anchor]##Volume 1&#8201;&#8212;&#8201;Profiles</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_copyright_licenses">Copyright Licenses</h2>
<div class="sectionbody">
<div class="paragraph">
<p>None</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_domain_specific_additions">Domain-specific additions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>None</p>
</div>
<div class="paragraph">
<p>Add new Section 7</p>
</div>
</div>
</div>
<h1 id="_7_point_of_care_identity_management_pcim_profile" class="sect0">7 Point-of-Care Identity Management (PCIM) Profile</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>The Point-of-Care Identity Management (PCIM) Profile is a Transport Profile specifying HL7<sup></sup><sup class="footnote" id="_footnote_1">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> v2 standard messaging for devices and IT systems at an acute-care point-of-care to exchange and synchronize information about the identity of specific devices collecting clinical information about a specific patient, to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Assist in the reliable association of the collected data to the proper patient record, based on first-hand observation and data entry by a person at the point of care, specifically designed to avoid wrong attribution of data from before or after the period of actual measurement on the patient.</p>
</li>
<li>
<p>Assist in maintaining a correct &#8220;census&#8221; of devices that frequently move between patients such as infusion pumps, and mechanical ventilators.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The messaging defined provides for capable devices to originate messages asserting association and disassociation to a particular patient, for human interface software components to afford users the opportunity to originate or confirm association or disassociation assertions, for one or more systems to receive and persist device-patient association information, to distribute reporting messages or receive and respond to queries about such associations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_7_1_pcim_actors_transactions_and_content_modules">7.1 PCIM Actors, Transactions, and Content Modules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section defines the actors, transactions, and/or content modules in this profile.
General definitions of actors are given in the Technical Frameworks General Introduction Appendix A.
IHE Transactions can be found in the Technical Frameworks General Introduction Appendix B.
Both appendices are located at <a href="http://ihe.net/Technical_Frameworks/#GenIntro" class="bare">http://ihe.net/Technical_Frameworks/#GenIntro</a></p>
</div>
<div class="paragraph">
<p>Figure 7.1-1 shows the actors directly involved in the PCIM Profile and the relevant transactions between them.
If needed for context, other actors that may be indirectly involved due to their participation in other related profiles are shown in dotted lines.
Actors which have a required grouping are shown in conjoined boxes (see Section X.3).</p>
</div>
<div class="paragraph">
<p>Figure 7.1-1: PCIM Actor Diagram</p>
</div>
<div class="paragraph">
<p>Table 7.1-1 lists the transactions for each actor directly involved in the PCIM Profile.
To claim compliance with this profile, an actor shall support all required transactions (labeled &#8220;R&#8221;) and may support the optional transactions (labeled &#8220;O&#8221;).</p>
</div>
<div class="paragraph">
<p>Table 7.1-1: PCIM Profile - Actors and Transactions</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Actors</th>
<th class="tableblock halign-left valign-top">Transactions</th>
<th class="tableblock halign-left valign-top">Initiator or Responder</th>
<th class="tableblock halign-left valign-top">Optionality</th>
<th class="tableblock halign-left valign-top">Reference</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Reporter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Report Device-Patient Association</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PCD TF-2: 3.17</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Report Device-Patient Disassociation</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PCD TF-2: 3.18</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Consumer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Device-Patient Associations</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PCD TF-2: 3.19</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Registrant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Report Registered Device Details</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PCD TF-2: 3.20</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_7_1_1_actor_descriptions_and_actor_profile_requirements">7.1.1 Actor Descriptions and Actor Profile Requirements</h3>
<div class="paragraph">
<p>Requirements are documented in Transactions (Volume 2) and Content Modules (Volume 3).
This section documents any additional requirements on profile&#8217;s actors.</p>
</div>
<div class="sect3">
<h4 id="_7_1_1_1_device_patient_association_reporter">7.1.1.1 Device-Patient Association Reporter</h4>
<div class="paragraph">
<p>The Device-Patient Association Reporter represents a system or person that is asserts that a given device is attached or removed from a specific patient.
For each such event, the unique Patient ID, Device ID, and timestamp must be reported.</p>
</div>
</div>
<div class="sect3">
<h4 id="_7_1_1_2_device_patient_association_manager">7.1.1.2 Device-Patient Association Manager</h4>
<div class="paragraph">
<p>The Device-Patient Association Manager represents a system that collects and persists information on what devices are or were connected to which patients within a defined scope, such as a clinical unit, at a given time, and can communicate these associations as query responses, event notifications, or both.</p>
</div>
</div>
<div class="sect3">
<h4 id="_7_1_1_3_device_patient_association_consumer">7.1.1.3 Device-Patient Association Consumer</h4>
<div class="paragraph">
<p>The Device-Patient Association Consumer represents a system or person that is has a requirement to receive information on what devices are or were connected to which patients.
A common example is a critical care system that charts device observations for a patient.</p>
</div>
</div>
<div class="sect3">
<h4 id="_7_1_1_4_device_registrant">7.1.1.4 Device Registrant</h4>
<div class="paragraph">
<p>The Device Registrant represents a system or person that maintains the list of medical devices that can be connected to a patient.
The list entry for each device typically includes the device type, location (may not apply if the device is mobile), and unique identity.</p>
</div>
<div class="paragraph">
<p>The Device Registrant announces when a device is placed in or taken out of service, is relocated, and other events as required.</p>
</div>
<div class="paragraph">
<p>Where this is a person, it is most likely hospital staff that is interacting directly with the Device-Patient Association Manager through its user interface.</p>
</div>
<div class="paragraph">
<p>Where it is a system, it may be a comprehensive device inventory system, a &#8220;gateway&#8221; system, or even the device itself.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_7_2_pcim_actor_options">7.2 PCIM Actor Options</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Device-Patient Association Consumer has two options available for receiving data from the Device-Patient Association Manager.
The first option is to query the Manager for a snapshot of current associations, either by sending a patient identifier and receiving back the associated device(s) or by sending a device identifier and receiving back the associated patient.
The second option is to receive an unsolicited continuous stream of association and disassociation events from the Manager as they occur.
The Device-Patient Association Manager should support sending data via both methods, and the Device-Patient Association Consumer may support one or both methods.</p>
</div>
<div class="paragraph">
<p>Options that may be selected for each actor in this profile, if any, are listed in the Table 7.2-1.
Dependencies between options, when applicable, are specified in notes.</p>
</div>
<div class="paragraph">
<p>Table 7.2-1: PCIM&#8201;&#8212;&#8201;Actors and Options</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Actor</th>
<th class="tableblock halign-left valign-top">Option Name</th>
<th class="tableblock halign-left valign-top">Reference</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Consumer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Snapshot Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Consumer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscription Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2.2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Manager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Snapshot Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Manager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscription Option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2.2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Reporter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No options defined</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Registrant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No options defined</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_7_2_1_snapshot_option">7.2.1 Snapshot Option</h3>
<div class="paragraph">
<p>The snapshot option applies to query and response interactions between Device-Patient Association Consumer and Device-Patient Association Manager and specifies that the query response desired is a one-time transmission of current state of device-patient associations.</p>
</div>
<div class="paragraph">
<p>A Device-Patient Association Consumer that supports this option shall formulate its request in the form described in Section 3.19.</p>
</div>
</div>
<div class="sect2">
<h3 id="_7_2_2_subscription_option">7.2.2 Subscription Option</h3>
<div class="paragraph">
<p>The snapshot option applies to query and response interactions between Device-Patient Association Consumer and Device-Patient Association Manager and specifies that the query response desired is a continuing subscription to changes in device-patient associations.</p>
</div>
<div class="paragraph">
<p>A Device-Patient Association Consumer that supports this option shall formulate its request in the form described in Section 3.19.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_7_3_pcim_required_actor_groupings">7.3 PCIM Required Actor Groupings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are no required actor groupings specified in the Point-of-Care Identity Management (PCIM) Profile.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_7_4_pcim_overview">7.4 PCIM Overview</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_7_4_1_concepts">7.4.1 Concepts</h3>
<div class="paragraph">
<p>Properly validated associations between devices, and patients that the devices are sourcing observations for, are an essential underpinning for clinical surveillance and clinical decision support systems.
Patient safety depends on certainty that the values being charted do not have gaps, or worse, data from the wrong patient.</p>
</div>
<div class="paragraph">
<p>This profile provides standards-based messages for communications about the beginning, end, and current state of intervals in which a device is associated with a particular patient.
It uses HL7 version 2 messages, still the most common pattern in healthcare institutions for similar information such as patient demographics.
It does not specify a particular configuration of systems for its functions, but rather describes roles which may be assigned to different systems according to the workflow in the institution.
For example, selection of the patient and the devices could be accomplished on a module of an electronic medical record system, on a medical device such as a physiological monitor or ventilator with appropriate communication and display capabilities, or on a hand carried device controlling another healthcare information system.</p>
</div>
</div>
<div class="sect2">
<h3 id="_7_4_2_use_cases">7.4.2 Use Cases</h3>
<div class="sect3">
<h4 id="_7_4_2_1_use_case_1_associating_device_with_patient">7.4.2.1 Use Case #1: Associating Device with Patient</h4>
<div class="paragraph">
<p>A Device-Patient Association Reporter asserts a device-patient association to a Device-Patient Association Manager.</p>
</div>
<div class="sect4">
<h5 id="_7_4_2_1_1_use_case_1_associating_device_with_patient_process_flow">7.4.2.1.1 Use Case #1 Associating Device with Patient: Process Flow</h5>
<div class="paragraph">
<p>This use case can be driven by an authorized user responsible for entering, verifying, or both, the beginning and ending of an association between a device and a particular patient.
The should be based on first person awareness of the situation at the point of care.
Automatic Identification and Data Capture methods such as barcodes or RFID should be used to assist the workflow and increase data reliability to the maximum feasible extent.
In certain circumstances and with appropriate risk analysis, the association may be automatically generated.
For example, a device with its own &#8220;admission&#8221; process, the act of manipulating the user interface at the point of care to &#8220;admit&#8221; a patient to the device may be deemed a patient-safe way of generating validated information of this device-patient association.
For another example, a device with a fixed location and a known patient associated with the location may be appropriate to originate a device-patient association.</p>
</div>
<div class="paragraph">
<p>These means of identification are specific to the clinical environment in question, and standard procedures of risk analysis at the institution should be applied to assure that patient safety is adequately protected.</p>
</div>
</div>
<div class="sect4">
<h5 id="_7_4_2_1_2_use_case_description">7.4.2.1.2 Use Case Description</h5>
<div class="paragraph">
<p>An authorized person at the point of care and able to see the patient and the devices has gathered and checked the unique identifying information for a patient and one or more devices that are designated to originate observations on that patient.
Before being sent, the information is displayed to the operator for verification.
Once verified, a message is originated by the Association with the following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Patient identifier unique within the scope of the institution</p>
</li>
<li>
<p>Method of data capture (for example, scanned device bar code and patient wrist band, fixed device location, etc.)</p>
</li>
<li>
<p>Time parameters (typically effective begin time of the association.
In the case where only a single set of observation from the device is expected, as for a spot-check monitor, the end time of the association is simultaneous with the beginning time)</p>
</li>
<li>
<p>Authorized performing participant</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_7_4_2_1_3_pre_conditions">7.4.2.1.3 Pre-conditions:</h5>
<div class="paragraph">
<p>Patient is to be associated with a device for clinical observations.
Patient has been assigned unique identifier at registration which has been collected and verified at the point of care.
Device identify has been registered for use.
The identities of patient and device(s) have been collected and verified by an authorized person.</p>
</div>
</div>
<div class="sect4">
<h5 id="_7_4_2_1_4_main_flow">7.4.2.1.4 Main Flow:</h5>
<div class="paragraph">
<p>Device-Patient Association reporter originates a message with the specific information on the association and its time of beginning.
When such an association message is received, the manager system is responsible for determining if any conflicting information is in the system and generating an appropriate error message to assist the responsible personnel in resolving the conflict.</p>
</div>
</div>
<div class="sect4">
<h5 id="_7_4_2_1_5_post_conditions">7.4.2.1.5 Post-conditions:</h5>
<div class="paragraph">
<p>After completion of this use case, an association record identifying the patient and the associated device and giving the start time of the association is created and persisted by the Device-Patient Association Manager.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_7_4_2_2_use_case_2_disassociating_device_from_patient">7.4.2.2 Use Case #2: Disassociating Device From Patient</h4>
<div class="sect4">
<h5 id="_7_4_2_2_1_description">7.4.2.2.1 Description</h5>
<div class="paragraph">
<p>At the time the device is no longer set up to make observations on the patient, the Device-Patient Association Reporter originates a message conveying this information to the Device-Patient Association Manager.
It should be noted that even though this may be a less salient event at the point of care, completeness and accuracy of disassociation is as important to an accurate record and proper association of observations with patients.
This is a key issue in risk analysis and in system design.</p>
</div>
</div>
<div class="sect4">
<h5 id="_7_4_2_2_2_process_flow">7.4.2.2.2 Process Flow</h5>
<div class="paragraph">
<p>The Device-Patient Association Manager receives the information that the association between a particular patient and one or more devices no longer exists.
An authorized operator may originate this message through a user interface.
In some cases, the device itself is capable of determining that the association has been broken and can communicate this information directly to the Device-Patient Association Manager, or indirectly through the Device-Patient Association Reporter.
It may be appropriate to note this event on a user interface and get confirmation that it is correct.
It also could be appropriate to ask whether other devices on record as being connected to the same patient are still connected or not.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_7_4_2_3_use_case_3_query_for_the_devices_for_a_patient">7.4.2.3 Use Case #3 Query for the Devices for a Patient</h4>
<div class="sect4">
<h5 id="_7_4_2_3_1_description">7.4.2.3.1 Description</h5>
<div class="paragraph">
<p>A Device-Patient Association Consumer may query a Device-Patient Association Manager for a list of devices associated with a particular patient at present, or at a designated time in the past, or more generally for a snapshot of the Device-Patient Association map.</p>
</div>
</div>
<div class="sect4">
<h5 id="_7_4_2_3_2_process_flow">7.4.2.3.2 Process Flow</h5>
<div class="paragraph">
<p>For status display or for error-checking and diagnostic purposes, the Device-Patient Association Manager can respond to a targeted query by sending a query response message.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_7_4_2_4_use_case_4_query_the_associated_patient_for_a_device">7.4.2.4 Use Case #4 Query the Associated Patient for a Device</h4>
<div class="sect4">
<h5 id="_7_4_2_4_1_description">7.4.2.4.1 Description</h5>
<div class="paragraph">
<p>A device (or another system) may require the identity of the patient it is connected to, for display or other purposes, but not have this information available to it, so the profile provides for a Device-Patient Association Consumer to query the Device-Patient Association Manager for this information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_7_4_2_4_2_process_flow">7.4.2.4.2 Process Flow</h5>
<div class="paragraph">
<p>The identity of the patient associated with a device (or the lack of an associated patient identity) may be queried for.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_7_4_2_5_use_case_5_device_registrant_registers_a_device_with_the_device_patient_association_manager">7.4.2.5 Use Case #5 Device Registrant Registers a Device with the Device-Patient Association Manager</h4>
<div class="sect4">
<h5 id="_7_4_2_5_1_description">7.4.2.5.1 Description</h5>
<div class="paragraph">
<p>Identification and supporting information about a device may be registered with the Manager.</p>
</div>
</div>
<div class="sect4">
<h5 id="_7_4_2_5_2_process_flow">7.4.2.5.2 Process Flow</h5>
<div class="paragraph">
<p>Before a device can participate in a Device-Patient Association, its identity and basic attributes such a device type, manufacturer and model, and additional identity information such as its regulatory Unique Device Identifier are provided by the Device Registrant to the Device-Patient Association Manager to be persisted and used in the other transactions in this use case.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_7_4_2_6_use_case_6_query_the_device_registrant_for_a_list_of_candidate_devices_for_an_association">7.4.2.6 Use Case #6 Query the Device Registrant for a list of candidate devices for an association</h4>
<div class="paragraph">
<p>A Device Registrant in the present might be used by Device-Patient Association Reporter to allow presentation of a pick list of candidate devices to be paired with a patient</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_7_5_pcim_security_considerations">7.5 PCIM Security Considerations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This profile itself does not impose specific requirements for authentication, encryption, or auditing, leaving these matters to site-specific policy or agreement based on careful risk analysis taking into account the security and privacy sensitivity of the patient and device-patient association content being handled.
The IHE PCD Technical Framework identifies security requirements across all PCD profiles.</p>
</div>
<div class="paragraph">
<p>See the associated IHE PCD PCIM White Paper for additional discussion of some additional specific security concerns.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_7_6_pcim_cross_profile_considerations">7.6 PCIM Cross Profile Considerations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This profile specifically covers associations and disassociations between patients and devices.
As patient demographics and ADT information (e.g., patient location) are often integral to satisfying the use cases profiled in this document, implementers should be familiar with the following profiles within the IT Infrastructure Technical Framework:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Patient Administration Management Profile</p>
</li>
<li>
<p>Patient Demographics Query</p>
</li>
<li>
<p>ITI Patient Demographic Query - Patient Demographic Reporter</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A Patient Demographic Consumer in IT Infrastructure might be used by a Device-Patient Association Reporter to allow presentation of a pick list of candidate patients to associate with one or more devices at the point-of-care.</p>
</div>
<div class="paragraph">
<p>Appendices</p>
</div>
<div class="paragraph">
<p>None</p>
</div>
<div class="paragraph">
<p>[.anchor]##</p>
</div>
<div class="paragraph">
<p>Volume 2&#8201;&#8212;&#8201;Transactions</p>
</div>
<div class="paragraph">
<p>Insert in Section 3 as new Section 3.17</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p></p>
<div class="paragraph">
<p>== Assert Device-Patient Association [PCD-17]
 .. </p>
</div>
<div class="paragraph">
<p>+
=== Scope</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This transaction is used to by a Device-Patient Association Reporter to assert that an association has been established between a device and a patient, or to update information reported previously by that reporter.</p>
</div>
<div class="sect2">
<h3 id="_actor_roles">Actor Roles</h3>
<div class="paragraph">
<p>The roles in this transaction are defined in the following table and may be played by the actors listed:</p>
</div>
<div class="paragraph">
<p>Table 3.17.2-1: Actor Roles</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Actor:</strong></th>
<th class="tableblock halign-left valign-top">Device-Patient Association Reporter</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Role:</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reporter&#8201;&#8212;&#8201;the source of the assertion.
Identifies the device, the patient, the authority for the association, and the effective time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Actor:</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Role:</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manager&#8201;&#8212;&#8201;establishes a persistent record of the association.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_referenced_standards">Referenced Standards</h3>
<div class="paragraph">
<p>HL7 2.6 Chapters 2, 3, 5 and 7</p>
</div>
</div>
<div class="sect2">
<h3 id="_interaction_diagram">Interaction Diagram</h3>
<div class="sect3">
<h4 id="_3_17_4_1_device_patient_association_report">3.17.4.1 Device-Patient Association Report</h4>
<div class="paragraph">
<p>This is an HL7 Version 2 message giving details of the association being asserted.
The message may assert association between more than one device and one patient.</p>
</div>
<div class="paragraph">
<p>The manager may receive this message from multiple Reporter instances.</p>
</div>
<div class="sect4">
<h5 id="_3_17_4_1_1_trigger_events">3.17.4.1.1 Trigger Events</h5>
<div class="paragraph">
<p>This message is triggered at the beginning of an interval when the logical connection between a device and the data it originates and a particular patient is established, after that connection has been verified by a human user able to check its validity at the point of care.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3_17_4_1_2_message_semantics">3.17.4.1.2 Message Semantics</h5>
<div class="paragraph">
<p>The significant content of the message is the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Confirmed unique identity of patient, preferably derived from an AIDC (Automatic Identification and Data Capture) such as scanning the patient wristband or reading an RFID tag.
Code used to identify the patient must be chosen so as to be unique at least over the scope of the set of patients seen over all information systems in the institution, such as a Medical Record Number issued by the institution for the patient, or, if available, a national id number.
The type and issuing entity shall be recorded with the code.
Additional identity codes may be provided at the discretion of the institution.
Note that any code identifiable with an individual patient must by secured from misuse in accordance with applicable legal and policy procedures.</p>
</li>
<li>
<p>Unique identity of Device.
This again is determined by site considerations.
It is preferable to use a universally unique identification of the individual instance of the device, such as an IEEE EUI-64 or a Unique Device Identifier such as one produced in accordance with the US FDA (or other regulatory agency) UDI standards.
If this is not possible, then another universal identification scheme such as EUI-64 or a local identification scheme allowing all device instances in the institution to be uniquely distinguished and tracked may be used.
Additional identification codes may be included.
Whatever code is used should be possible to record automatically, as manual data entry has a high error rate, and correct identification is a patient safety concern.</p>
</li>
<li>
<p>Identity of the authorized person responsible for obtaining and visually confirming the identity information for the patient and the device.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The form of the message is similar to an unsolicited observation report, with supplementary PRT segments identifying the device, human operator originating the association.
See Appendix 0 for details of HL7 V2 messages.</p>
</div>
<div class="paragraph">
<p>On receipt of the message, the manager system checks for valid syntax and that the:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>originating Reporter system and human user are authorized for their roles</p>
</li>
<li>
<p>the device is a member of the set of registered device instances and has no current conflicting association recorded (e.g., a single-patient device has an active association with a different patient)</p>
</li>
<li>
<p>the patient identity provided corresponds to a known person in an appropriate status (e.g., admitted)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>After these checks, the Manager logs the result and returns an appropriate positive or negative acknowledgement to the Reporter.
The system design must assure that errors are indicated to the appropriate human user(s) in an effective and timely manner so that action can be taken.</p>
</div>
<div class="paragraph">
<p>If the checks are passed, the Manager establishes a record of the existence of the association and its effective time.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p></p>
<div class="paragraph">
<p>== Assert Device-Patient Disassociation [PCD-18]
 .. </p>
</div>
<div class="paragraph">
<p>+
=== Scope</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This transaction breaks the association between a device and a patient, and causes an ending time to be inserted in the record of the former association.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_actor_roles_2">Actor Roles</h3>
<div class="paragraph">
<p>Table 3.18.2-1: Actor Roles</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Actor:</strong></th>
<th class="tableblock halign-left valign-top">Device-Patient Association Reporter</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Role:</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reporter&#8201;&#8212;&#8201;the source of the assertion.
Identifies the device, the patient, the authority for the association, and the effective time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Actor:</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Role:</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manager&#8201;&#8212;&#8201;establishes a persistent record of the association.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_3_18_3_referenced_standards">3.18.3 Referenced Standards</h3>
<div class="paragraph">
<p>HL7 2.6 Chapters 2, 3, 5 and 7</p>
</div>
</div>
<div class="sect2">
<h3 id="_3_18_4_interaction_diagram">3.18.4 Interaction Diagram</h3>
<div class="sect3">
<h4 id="_3_18_4_1_device_patient_disassociation_report">3.18.4.1 Device-Patient Disassociation Report</h4>
<div class="paragraph">
<p>Reports that an association previously reported between a device and a patient no longer exists.
This is the inverse of the Device-Patient Association Report.
The two are similar in form and could have been defined as two variants of the same message, but have been given different names and discussed separately to emphasize differences in effects.</p>
</div>
<div class="sect4">
<h5 id="_3_18_4_1_1_trigger_events">3.18.4.1.1 Trigger Events</h5>
<div class="paragraph">
<p>This message can be triggered manually.
The user interface could display information about the existing association, and an authorized person could select the association and give a command to end it.</p>
</div>
<div class="paragraph">
<p>If the equipment used has a means available to detect the termination of recording of data from a particular patient, this method could be used to give an operator warning that the association may have been ended, and offer the opportunity to confirm this and check whether other associations indicated as current for that patient are still valid.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3_18_4_1_2_message_semantics">3.18.4.1.2 Message Semantics</h5>
<div class="paragraph">
<p>The significant content of this message are the identities of the device and the patient that are no longer to be associated, and the identity of the authorized person originating the message.
See Appendix 0for details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3_18_4_1_3_expected_actions">3.18.4.1.3 Expected Actions</h5>
<div class="paragraph">
<p>The Device-Patient Association Manager records the ending time of the association, persists the record of the time interval of the association, and sends a notification to information system with a subscription covering the event.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_18_4_2_device_patient_disassociation_acknowledgement">3.18.4.2 Device-Patient Disassociation Acknowledgement</h4>
<div class="paragraph">
<p>The reply to the Device-Patient Disassociation Report is an ordinary HL7 Acknowledgement.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_security_considerations">Security Considerations</h3>
<div class="paragraph">
<p>No special security or security audit considerations beyond the general ones already discussed apply to this transaction</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p></p>
<div class="paragraph">
<p>== Query Device-Patient Associations [PCD-19]
 .. </p>
</div>
<div class="paragraph">
<p>+
=== Scope</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This transaction is used by a Device Patient Association Consumer to access device-patient association information held by a Device Patient Association Manager.</p>
</div>
</div>
<div class="sect2">
<h3 id="_actor_roles_3">Actor Roles</h3>
<div class="paragraph">
<p>Figure 3.19.2-1: Use Case Diagram</p>
</div>
<div class="paragraph">
<p>Table 3.19.2-1: Actor Roles</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Actor:</strong></th>
<th class="tableblock halign-left valign-top">Device-Patient Association Consumer</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Role:</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requests information on Device-Patient Associations.
This may be filtered for device, for patient, or for time interval.
It may request a current &#8220;snapshot&#8221; of active associations, or optionally for an ongoing feed of device-patient association information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Actor:</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Role:</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fulfills a request from a Device-Patient Association Consumer for device-patient association information in the manner specified by the Consumer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_referenced_standards_2">Referenced Standards</h3>
<div class="paragraph">
<p>HL7 2.6 Chapters 2, 3, 5 and 7</p>
</div>
</div>
<div class="sect2">
<h3 id="_interaction_diagram_2">Interaction Diagram</h3>
<div class="sect3">
<h4 id="_3_19_4_1_device_patient_association_query">3.19.4.1 Device-Patient Association Query</h4>
<div class="paragraph">
<p>This message from a Device-Patient Association Consumer requests a response from a Device-Patient Association Manager containing device-patient association data.
A Device-Patient Association Manager is expected to be able to service multiple Device-Patient Association Consumer systems and manage different query and response streams and communications connections with each.
Whether these communications ports are preconfigured, or dynamic with appropriate node identification and authorization for each connection request, is a matter of implementation design.</p>
</div>
<div class="paragraph">
<p>There are multiple use cases:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A request for a &#8216;current snapshot&#8217; of associations filtered as specified by the query parameters.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A request for an ongoing real-time feed of changes in associations.</p>
</li>
<li>
<p>Possibly less important would be request for a &#8216;replay&#8217; of data from a specified time period in the past.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Trying to fit these cases with the array of patterns present in Chapter 5 (Queries) of the HL7 Specification presents some puzzles.
This profile chooses the QSB publish-subscribe paradigm, matching option 1, as the general case and treats 2 and 3 as special cases of it using some special semantics of query parameters described below.</p>
</div>
<div class="sect4">
<h5 id="_3_19_4_1_1_trigger_events">3.19.4.1.1 Trigger Events</h5>
<div class="paragraph">
<p>This message is triggered by the Device-Patient Association Consumer when it requires information about a device or devices associated with a patient currently or in the past (within the period available from the Device-Patient Association Manager).
It may also be used to request a continuing feed of data concerning changes in device-patient associations within the scope of the Device-Patient Association Manager.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3_19_4_1_2_message_semantics">3.19.4.1.2 Message Semantics</h5>
<div class="paragraph">
<p>This message is a query specification.
It gives the scope of the information wanted by the Device-Patient Association Consumer in response to the query: what patients, units, devices and time periods are pertinent.
See Appendix 0 for details of HL7 segment contents and semantics.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3_19_4_1_3_expected_actions">3.19.4.1.3 Expected Actions</h5>
<div class="paragraph">
<p>The Device-Patient Association Manager is responsible for collecting, formatting and sending the requested information back to the querying Device-Patient Association Consumer according to the filtering specified in the query.</p>
</div>
<div class="paragraph">
<p>The management of the query and response connection between the Device-Patient Association Consumer and the Device-Patient Association Manager in the case of an ongoing subscription is an implementation detail, but one practical method is for the Device-Patient Association Manager to maintain an open TCP listen port to accepts connections from one or more Device-Patient Association Consumer clients and then to open an individual TCP connection with each requester that persists as long as the client is connected and the query is valid (within its time limits, if any).
For a non-subscription, &#8220;snapshot&#8221;-type query, the Device-Patient Association Manager could just respond on the static connection that the query comes in on.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_19_4_2_device_patient_association_query_response">3.19.4.2 Device-Patient Association Query Response</h4>
<div class="paragraph">
<p>The response carries the requested data if the Device-Patient Association Manager has any matching the specification.
If there is none available, the response is in effect an empty frame with zero data records in the position that data would be expected.
If the request is ill-formed (incorrect syntax or impossible query specification), an indication of the nature of the error should be returned.</p>
</div>
<div class="sect4">
<h5 id="_3_19_4_2_1_trigger_events">3.19.4.2.1 Trigger Events</h5>
<div class="paragraph">
<p>This message and the activity of preparing it, is triggered in the Device-Patient Association Manager by the query request from the Device-Patient Association Consumer.
This trigger may request a snapshot of current state (Snapshot Option), or request the setting up of a sequence of messages triggered by a state change in the device-patient associations (Subscription Option).</p>
</div>
</div>
<div class="sect4">
<h5 id="_3_19_4_2_2_message_semantics">3.19.4.2.2 Message Semantics</h5>
<div class="paragraph">
<p>The message is made up of a frame identifying the message, a read-back of the query parameters of the request, and the requested data represented as a set of observations portraying the pertinent device-patient association states.</p>
</div>
<div class="paragraph">
<p>This response may be part of a sequence of messages sent when device-patient association state transitions happen within the scope of the request from the Device-Patient Association Consumer that initiated.
For detailed semantics and the construction of the HL7 message structure and segment contents, see Appendix A.2.3.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3_19_4_2_3_expected_actions">3.19.4.2.3 Expected Actions</h5>
<div class="paragraph">
<p>The Device-Patient Association Consumer is expected to take actions depending on the reason it made the query request and its own business logic.
An example would be for a device without its own selection and validation mechanism for identifying the patient it is interacting with to receive and use the information from the Device-Patient Association Manager to send that patient identity information with its observations or display the patient identity on its user interface.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_security_considerations_2">Security Considerations</h3>
<div class="paragraph">
<p>No special security or security audit considerations beyond the general ones already discussed apply to this transaction.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p></p>
<div class="paragraph">
<p>== Register Device [PCD-20]
 .. </p>
</div>
<div class="paragraph">
<p>+
=== Scope</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This transaction is used to report the introduction of a new device or the removal of a device to subscribing actors, including the Device Patient Association Manager.</p>
</div>
</div>
<div class="sect2">
<h3 id="_actor_roles_4">Actor Roles</h3>
<div class="paragraph">
<p>Figure 3.20.2-1: Use Case Diagram</p>
</div>
<div class="paragraph">
<p>Table 3.20.2-1: Actor Roles</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Actor:</strong></th>
<th class="tableblock halign-left valign-top">Device Registrant</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Role:</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintains master file of medical devices that can be associated with a patient</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Actor:</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device-Patient Association Manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Role:</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintains list of associations between devices and patients</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The roles in this transaction are defined in the following table and may be played by the actors shown here:</p>
</div>
<div class="paragraph">
<p>Table 3.20.2-2: Actor Roles<table><colgroup><col style="width: 18%"></col>
<col style="width: 81%"></col></colgroup>
<thead><tr class="header"><th><strong>Role:</strong></th>
<th><em>Notifier</em></th></tr></thead>
<tbody><tr class="odd"><td><strong>Actor(s):</strong></td>
<td><p>The following actors may play the role of Notifier:</p>
<blockquote><p>Device Registrant: Notify subscribers of updates to the Device
Master</p></blockquote></td></tr>
<tr class="even"><td><strong>Role:</strong></td>
<td><em>Subscriber</em></td></tr>
<tr class="odd"><td><strong>Actor(s):</strong></td>
<td><p>The following actors may play the role of Subscriber:</p>
<blockquote><p>Device-Patient Association Manager: Update local list of devices
available for association with a patient</p></blockquote></td></tr></tbody></table></p>
</div>
<div class="paragraph">
<p>Transaction text specifies behavior for each role.
The behavior of specific actors may also be specified when it goes beyond that of the general role.</p>
</div>
</div>
<div class="sect2">
<h3 id="_referenced_standards_3">Referenced Standards</h3>
<div class="paragraph">
<p>HL7 2.6 Chapters 2 and 8.</p>
</div>
</div>
<div class="sect2">
<h3 id="_interaction_diagram_3">Interaction Diagram</h3>
<div class="sect3">
<h4 id="_3_20_4_1_mfn_master_file_notification_general">3.20.4.1 MFN - Master File Notification - General</h4>
<div class="paragraph">
<p>This message is sent by the device registrant to notify the Device-Patient Association Manager that a device has been added, removed, deactivated or reactivated from the inventory of bedside medical devices.</p>
</div>
<div class="sect4">
<h5 id="_3_20_4_1_1_trigger_events">3.20.4.1.1 Trigger Events</h5>
<div class="paragraph">
<p>M13 - Master File Notification&#8201;&#8212;&#8201;General</p>
</div>
<div class="paragraph">
<p>Any change to the list of bedside medical devices available for association to a patient:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Device added to the list</p>
</li>
<li>
<p>Device removed from the list</p>
</li>
<li>
<p>Device deactivated, and temporarily unavailable for association</p>
</li>
<li>
<p>Device reactivated</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_3_20_4_1_2_message_semantics">3.20.4.1.2 Message Semantics</h5>
<div class="paragraph">
<p>This message is an HL7 V2 Master File Notification.
With this message, the Device Registrant notifies subscribers, such as the Device-Patient Association Manager, of additions, deletions, deactivations and reactivations of bedside medical devices.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3_20_4_1_3_expected_actions">3.20.4.1.3 Expected Actions</h5>
<div class="paragraph">
<p>Because of receiving this message, recipients should update their local device lists as appropriate.</p>
</div>
<div class="paragraph">
<p>As an example: if the recipient is a Device-Patient Association Manager, and the sender indicated the device was added to the master, then the Device-Patient Association Manager may offer this device to be a subject of the association with a patient.</p>
</div>
<div class="paragraph">
<p>Senders of this message are not expected to take any specific action, beyond preparing to receive an acknowledgement.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_20_4_2_ack_general_acknowledgement">3.20.4.2 ACK - General Acknowledgement</h4>
<div class="paragraph">
<p>This message is returned to acknowledge receipt of the MFN message.</p>
</div>
<div class="sect4">
<h5 id="_3_20_4_2_1_trigger_events">3.20.4.2.1 Trigger Events</h5>
<div class="paragraph">
<p>Upon receipt of a message that requires acknowledgement.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3_20_4_2_2_message_semantics">3.20.4.2.2 Message Semantics</h5>
<div class="paragraph">
<p>This message is the HL7 V2 ACK message.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3_20_4_2_3_expected_actions">3.20.4.2.3 Expected Actions</h5>
<div class="paragraph">
<p>With this message, recipients are cleared to initiate the next transaction.
As an example, if this message is sent to a Device Registrant, upon receipt the Device Registrant is clear to send the next Master File Notification message.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_security_considerations_3">Security Considerations</h3>
<div class="paragraph">
<p>No security considerations beyond the general ones already given are dictated.</p>
</div>
<div class="sect3">
<h4 id="_3_20_5_1_security_audit_considerations">3.20.5.1 Security Audit Considerations</h4>
<div class="paragraph">
<p>No security audit considerations are dictated.</p>
</div>
</div>
</div>
</div>
</div>
<h1 id="_volume_2_namespace_additions" class="sect0">Volume 2 Namespace Additions</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>The PCD registry of OIDs is located at <a href="https://wiki.ihe.net/index.php/PCD_OID_Management" class="bare">https://wiki.ihe.net/index.php/PCD_OID_Management</a>.</p>
</div>
<div class="paragraph">
<p>Additions to the PCD OID Registry are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">OID</th>
<th class="tableblock halign-left valign-top">Refers to</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.6.1.4.1.19376.1.6.1.17.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Point-of-Care Identity Management - Report Device-Patient Association [PCD-17]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.6.1.4.1.19376.1.6.1.18.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Point-of-Care Identity Management - Report Device-Patient Disassociation [PCD-18]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.6.1.4.1.19376.1.6.1.19.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Point-of-Care Identity Management - Query Device-Patient Associations [PCD-19]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.6.1.4.1.19376.1.6.1.20.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Point-of-Care Identity Management - Register Device [PCD-20]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[.anchor]##Appendices</p>
</div>
</div>
</div>
<h1 id="_appendix_aproposed_messages" class="sect0">Appendix A&#8201;&#8212;&#8201;Proposed Messages</h1>
<div class="openblock partintro">
<div class="content">
The descriptions of these messages do not repeat all information in the related sections of the PCD TF-2 or the base HL7 specifications, which should be consulted for additional details.
The base version of HL7 used in IHE PCD Profiles is version 2.6;
however, this profile uses the semantics of the PRT segment which was not introduced until version 2.7 and not extended with full details of the Unique Device Identifier until version 2.8.2.
</div>
</div>
<div class="sect1">
<h2 id="_a_1_report_device_patient_association_and_disassociation">A.1 Report Device-Patient Association and Disassociation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As all of the use cases identified in this profile can be considered observations (it was observed that device <em>d1</em> was connected to patient p1 starting at <em>t1</em> and ending at <em>t2</em>), the ORU message structure is used throughout this profile to manage associations.
This description also serves for a Report Device-Patient Disassociation&#8201;&#8212;&#8201;the only difference between the Association and Disassociation messages is the content of OBX-5.
The Message Structure and attendant notes also serve to specify the segment pattern to be expected in responses to Query for Device-Patient Associations [PCD-19] messages.
The prototype for the IHE Patient Care Device observations in this profile is the [PCD-01] in the Device Enterprise Communication Profile (PCD TF-2: 3.1), which implementers should familiarize themselves with&#8201;&#8212;&#8201;it serves as useful background information and contains details on some fields that are not covered in this profile.</p>
</div>
<div class="sect2">
<h3 id="_a_1_1_message_structure">A.1.1 Message Structure</h3>
<div class="paragraph">
<p>Table A.1.1-1: Report Device Patient Association</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Segments</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message Header</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{ SFT }]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Software Segment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[UAC]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Authentication Credential</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Patient Identification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[PV1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Patient Visit Information (for room bed)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OBR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Observation Request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>One group for each device being associated with patient identified in the PID</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OBX</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Observation Result</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{ PRT }</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Participation&#8201;&#8212;&#8201;<em>One PRT segment for device, one for responsible person</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">}</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>MSH, SFT, and UAC Segments: follow the specifications for [PCD-01] in PCD TF-2 Appendix B.1, except that in the MSH segment, MSH-21 is valued &#8220;IHE_PCD_017^IHE PCD^1.3.6.1.4.1.19376.1.6.1.17.1^ISO&#8221; to identify it as a Report Device-Patient Association.</p>
</div>
<div class="paragraph">
<p>sage.
In the context of this use case, the message is constrained to reporting association(s) for a single patient.
This could be single device, single patient, or multiple devices associated to a single patient.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a_1_2_segments">A.1.2 Segments</h3>
<div class="sect3">
<h4 id="_a_1_2_1_mshmessage_header">A.1.2.1 MSH&#8201;&#8212;&#8201;Message Header</h4>
<div class="paragraph">
<p>Since this message is effectively an unsolicited observation report, the contents of the MSH segment follow the specifications for [PCD-01] in PCD TF-2 Appendix B.1, except that MSH-21 is valued &#8220;IHE_PCD_017^IHE PCD^1.3.6.1.4.1.19376.1.6.4.17^ISO&#8221; to identify it as a message representing a device-patient association.</p>
</div>
</div>
<div class="sect3">
<h4 id="_a_1_2_2_pidpatient_identification">A.1.2.2 PID&#8201;&#8212;&#8201;Patient Identification</h4>
<div class="paragraph">
<p>In order to assert an association between a patient and a device, the PID segment is required.
It identifies the patient who is associated to the device.
The Patient Identifier List must contain an identifier that is unique for all patients within the scope of the system.
By default, if an identifier on the list is identified as a medical record number, it is used (PID-3.5 Identifier Type code valued as &#8220;MR&#8221;).
There may be multiple identifiers in the list, and implementers may choose to allow a different identifier than the medical record number to be used as a configuration option.</p>
</div>
<div class="paragraph">
<p>Table A.1.2.2-1: PID Fields</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>SEQ</strong></th>
<th class="tableblock halign-left valign-top"><strong>DT</strong></th>
<th class="tableblock halign-left valign-top"><strong>OPT</strong></th>
<th class="tableblock halign-left valign-top"><strong>RP</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set ID - PID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CX</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Patient Identifier List</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XPN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Patient Name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DTM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RE</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gender</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RE</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOB</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_a_1_2_3_pv1_patient_visit_information">A.1.2.3 PV1 Patient Visit Information</h4>
<div class="paragraph">
<p>See transaction [PCD-01] for basic information (PCD TF-2 Appendix B.6).
In this profile, the PV1 segment is used to convey patient location information in PV1-3 Assigned Patient Location.
This is also usable as a query filter to limit responses from the Device-Patient Association Query to matching locations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_a_1_2_4_obrorder_request">A.1.2.4 OBR&#8201;&#8212;&#8201;Order Request</h4>
<div class="paragraph">
<p>This segment serves as a wrapper for an association observation.
It gives the association message a unique identifier in the Filler Order Number OBR-3.
This is a required field: it acts as an association object instance identifier for tracking is used for tracking messages from all sources in the overall configuration of systems, so it must be constrained by some method of generation that assures that duplicate identifiers between sources are not possible.
It gives the timestamp of the beginning of the association (OBR-7), and when it is known, the end of the association (OBR-8).</p>
</div>
</div>
<div class="sect3">
<h4 id="_a_1_2_5_obxobservation_for_patient_id">A.1.2.5 OBX&#8201;&#8212;&#8201;Observation (for Patient ID)</h4>
<div class="paragraph">
<p>This segment conveys the &#8220;observation&#8221; that the patient has been associated to a device.
It includes the time stamp of the association event and the device ID.
A set of PRT segments accompanies it to convey the identity of the patient, the device, and the responsible observer.</p>
</div>
<div class="paragraph">
<p>Table A.1.2.5-1: OBX Fields</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>SEQ</strong></th>
<th class="tableblock halign-left valign-top"><strong>DT</strong></th>
<th class="tableblock halign-left valign-top"><strong>OPT</strong></th>
<th class="tableblock halign-left valign-top"><strong>RP</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set ID - OBX</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value Type&#8201;&#8212;&#8201;set to CWE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CWE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Observation Identifier&#8201;&#8212;&#8201;set to 68487^MDCX_ATTR_EVT_COND^MDC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Observation Sub-ID.
Use to convey a specific channel that&#8217;s been associated, as &lt;MDS&gt;.&lt;VMD&gt;.&lt;CHANNEL&gt;.&lt;facet&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CWE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Observation Value.
See Table A.1.2.5-2: OBX-5 Values on page <a href="#_Ref388452137">28</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Observation Result Status.
See Table A.1.2.5-3: OBX-11 Values on page <a href="#_Ref388452675">28</a>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[.anchor]##Table A.1.2.5-2: OBX-5 Values</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Observation Value</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0^MDCX_DEV_ASSOCIATE^MDC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device has been associated to a patient.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0^MDCX_DEV_DISASSOCIATE^MDC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device has been disassociated from a patient.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A device association can be reported as a point-in-time event, in which case a separate disassociate message is not required to delineate the end of the association.
Alternatively, the association event message can convey a duration during which the association was in effect.
The latter is equivalent to an associate/disassociate message pair, and may be preferable for short duration associations (e.g., spot vitals collection).</p>
</div>
<div class="paragraph">
<p>[.anchor]##Table A.1.2.5-3: OBX-11 Values</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Status</strong></th>
<th class="tableblock halign-left valign-top"><strong>HL7 Description</strong></th>
<th class="tableblock halign-left valign-top"><strong>Adaptation</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Record coming over is a correction and thus replaces a final result.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Record coming over is a correction and thus replaces a validated association.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deletes the OBX record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deletes the association record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">F</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Final results;
can only be changed with a corrected result.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validated association.
Can only be changed with a corrected association record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Results entered&#8201;&#8212;&#8201;not verified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An association has been asserted, but not validated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">W</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Post original as wrong, e.g., transmitted for wrong patient.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Post original as wrong, e.g., transmitted for wrong patient.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_a_1_2_6_prtparticipation_observation_participation">A.1.2.6 PRT&#8201;&#8212;&#8201;Participation (Observation Participation)</h4>
<div class="paragraph">
<p>This segment conveys information about persons and/or devices that participated in the association, ancillary to the patient and device that are its subjects.
There will be PRT messages identifying the patient, the device, and the responsible observer of a device-patient association following an OBX message as described in Section 0.
For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A nurse that established and/or validated an association</p>
</li>
<li>
<p>A device gateway</p>
</li>
<li>
<p>The device itself, if the patient ID is entered directly onto the device</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Table A.1.2.6-1: PRT Fields<table><colgroup><col style="width: 8%"></col>
<col style="width: 8%"></col>
<col style="width: 8%"></col>
<col style="width: 7%"></col>
<col style="width: 67%"></col></colgroup>
<thead><tr class="header"><th><strong>SEQ</strong></th>
<th><strong>DT</strong></th>
<th><strong>OPT</strong></th>
<th><strong>RP</strong></th>
<th><strong>Description</strong></th></tr></thead>
<tbody><tr class="odd"><td>2</td>
<td>ID</td>
<td>R</td>
<td></td>
<td>Action Code. Always value to UC (unchanged).</td></tr>
<tr class="even"><td>4</td>
<td>CWE</td>
<td>R</td>
<td></td>
<td>Participation .</td></tr>
<tr class="odd"><td>5</td>
<td>XCN</td>
<td></td>
<td>Y</td>
<td>Participation Person. If a person is the participant in this
association message, his or her ID and name appear here.</td></tr>
<tr class="even"><td>9</td>
<td>PL</td>
<td></td>
<td>Y</td>
<td>Participation Location. Location where association was asserted or
observed.</td></tr>
<tr class="odd"><td>10</td>
<td>EI</td>
<td>C</td>
<td>Y</td>
<td><p>Participation Device.</p>
<p>If a device is the initiator of this association record (PRT-4 =
AUT), its ID appears here. Format is the same as in existing IHE PCD
profiles and will match PRT-10 of device-as-subject PRT segment of this
message, provided that the device associated with the patient and the
device reporting the participation are one and the same (e.g., patient
admitted on this monitor).</p>
<p>If this PRT segment identifies this device as the subject of the
association (PRT-4 = EQUIP), its ID appears here. Note&#8201;&#8212;&#8201;Prior to HL7
2.7, this would have appeared in OBX-18.</p></td></tr>
<tr class="even"><td>11</td>
<td>DTM</td>
<td>C</td>
<td></td>
<td><p>Participation Begin Date/Time (arrival time).</p>
<p>Refer to <a href="#Table_A_1_2_6_4">Table A.1.2.6-4.</a></p></td></tr>
<tr class="odd"><td>12</td>
<td>DTM</td>
<td>C</td>
<td></td>
<td><p>Participation End Date/Time (departure time).</p>
<p>Refer to Table A.1.2.6-3.</p></td></tr>
<tr class="even"><td>13</td>
<td>CWE</td>
<td>O</td>
<td></td>
<td>Participation Qualitative Duration. Not used in this profile.</td></tr>
<tr class="odd"><td>14</td>
<td>XAD</td>
<td>O</td>
<td></td>
<td>Participation Address</td></tr>
<tr class="even"><td>15</td>
<td>XTN</td>
<td>O</td>
<td></td>
<td>Participation Telecommunication Address</td></tr>
<tr class="odd"><td>16</td>
<td>EI</td>
<td>O</td>
<td></td>
<td>Participation Device Identifier. From UDI, should be present if
known. See discussion below.</td></tr>
<tr class="even"><td>17</td>
<td>DTM</td>
<td></td>
<td></td>
<td>Participation Device Manufacture Date. From UDI, should be present
if known.</td></tr>
<tr class="odd"><td>18</td>
<td>DTM</td>
<td>O</td>
<td></td>
<td>Participation Device Expiry Date. Not normally applicable in this
profile.</td></tr>
<tr class="even"><td>19</td>
<td>ST</td>
<td>O</td>
<td></td>
<td>Participation Device Lot Number. Not normally applicable in this
profile.</td></tr>
<tr class="odd"><td>20</td>
<td>ST</td>
<td>C</td>
<td></td>
<td>Participation Device Serial Number. From UDI, should be present if
known.</td></tr></tbody></table></p>
</div>
<div class="paragraph">
<p>Table A.1.2.6-2: PRT-4 Values</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Participation</strong></th>
<th class="tableblock halign-left valign-top"><strong>HL7 Description</strong></th>
<th class="tableblock halign-left valign-top"><strong>Adaptation</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AUT Author/Event Initiator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The participant (nurse, device, etc.), initially asserts the association.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EQUIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equipment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The participant is the device that is a subject of the device-patient association.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responsible Observer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The participant (nurse, etc.) observes an already asserted association as a prelude to adjusting, validating, or marking in error.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>PRT-10 Participation Device (EI)</strong></p>
</div>
<div class="paragraph">
<p>PRT-10 should contain some form of identifier sufficient to uniquely identify the device within the scope of the overall system.
This is a repeating field, so more than one identifier can be given.
If available, it should have as one of its values the &#8220;human readable form&#8221; of the Unique Device Identifier defined by the US FDA, where applicable, but in any case must contain See details in the UDI Final Rule (U.S.
Food and Drug Administration 2013).</p>
</div>
<div class="paragraph">
<p>It should be noted that the use of OBX-18 for equipment identification has been deprecated.
So for long-term use, the PRT segment is preferred.
See PCD TF-2 Appendix B.10.2 for details of how the PRT segment should be used for equipment identification.</p>
</div>
<div class="paragraph">
<p><strong>Definition</strong>: Identifier for the device participating.
This may reflect an unstructured or a structured identifier such as FDA UDI, RFID, IEEE EUI-64 identifiers, or bar codes.</p>
</div>
<div class="paragraph">
<p>If this attribute repeats, all instances must represent the same device.</p>
</div>
<div class="paragraph">
<p><strong>Condition</strong>: At least one of the Participation Person, Participation Organization, Participation Location, or Participation Device fields must be valued.</p>
</div>
<div class="paragraph">
<p>If this field contains an FDA UDI, it shall contain the entire Human Readable Form of the UDI.
For example, a GS1-based UDI would be represented as follows:</p>
</div>
<div class="paragraph">
<p>|(01)00643169001763(17)160712(21)21A11F4855^^2.16.840.1.113883.3.3719^ISO|</p>
</div>
<div class="paragraph">
<p>A HIBCC-based example would be represented as follows:</p>
</div>
<div class="paragraph">
<p>|+H123PARTNO1234567890120/$$420020216LOT123456789012345/SXYZ4567890123 45678/16D20130202C^^2.16.840.1.113883.3.3719^ISO</p>
</div>
<div class="paragraph">
<p>The identifier root shall be the OID assigned to UDI.
For example, for FDA UDIs the root shall be 2.16.840.1.113883.3.3719, and the extension shall be the Human Readable Form appropriate for the style of content.
When captured as a simple string, the string shall be the Human Readable Form appropriate for the style of content.
The content style can be determined from the leading characters of the content:</p>
</div>
<div class="paragraph">
<p>UDIs beginning with:</p>
</div>
<div class="paragraph">
<p>'`('` are in the GS1 Human Readable style;</p>
</div>
<div class="paragraph">
<p>&#8216;0-9&#8217; are a GS1 DI (containing only the DI value, no PI or GS1 AI);</p>
</div>
<div class="paragraph">
<p>'`+'` are in the HIBCC Human Readable style;</p>
</div>
<div class="paragraph">
<p>&#8216;='` or '`&amp;&#8217; are in the ICCBBA Human Readable style.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If &#8220;&amp;&#8221; is used in the UDI while one of the delimiters in MSH.2 includes &#8220;&amp;&#8221; as well, it must be properly escaped per Chapter 2.7 of the HL7 Specification.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The exchange of UDI sub-elements in PRT-16 through PRT-21 is not required when the full UDI string is provided in PRT.10.</p>
</div>
<div class="paragraph">
<p>When a UDI is provided and sub-elements are also provided, then for those sub-elements that are valued, the content must match the content encoded in the UDI if it is encoded within the UDI.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
The UDI may contain personally identifying information in the form of the device serial number which may be used to link to other information on a patient.
Standard practice for exchanging potentially identifying content should be exercised when exchanging UDIs which contain a serial number.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
PRT.10 is a repeating field.
Additional device identifiers, such as an IEEE EUI-64 may also be contained in this field.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Table A.1.2.6-3: PRT-11 Interpretation</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Participation Status</strong></th>
<th class="tableblock halign-left valign-top"><strong>AUT</strong></th>
<th class="tableblock halign-left valign-top"><strong>EQUIP</strong></th>
<th class="tableblock halign-left valign-top"><strong>RO</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-Asserted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time that the person/device asserted the association between the patient and device.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time that the device-patient association is asserted to have been established.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unusual.
Time that the person in this role observed the person/device in the AUT role asserting the association.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C-Corrected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Corrected time that the device-patient association is asserted to have been established.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time that the person in this role issued the correction.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D-Deleted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time that the person in this role issued the deletion order.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">F-Validated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time that the device-patient association is confirmed to have been established.
If null, most recently asserted/corrected time has been confirmed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time that the person in this role validated the association.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">W-Wrong</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time that the person in this role declared the association to be erroneous.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[.anchor]##Table A.1.2.6-4: PRT-12 Interpretation<table style="width:100%;"><colgroup><col style="width: 20%"></col>
<col style="width: 26%"></col>
<col style="width: 26%"></col>
<col style="width: 26%"></col></colgroup>
<thead><tr class="header"><th><p><strong>Participation </strong></p>
<p><strong>Status</strong></p></th>
<th><strong>AUT</strong></th>
<th><strong>EQUIP</strong></th>
<th><strong>RO</strong></th></tr></thead>
<tbody><tr class="odd"><td>R-Asserted</td>
<td>Time that the person/device asserted the disassociation between the
patient and device.</td>
<td>Time that the device-patient disassociation is asserted to have
taken place.</td>
<td>Unusual. Time that the person in this role observed the
person/device in the AUT role asserting the disassociation.</td></tr>
<tr class="even"><td>C-Corrected</td>
<td>n/a</td>
<td>Corrected time that the device-patient association is asserted to
have ended.</td>
<td>Time that the person in this role issued the correction.</td></tr>
<tr class="odd"><td>D-Deleted</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td></tr>
<tr class="even"><td>F-Validated</td>
<td>n/a</td>
<td>Time that the device-patient association is confirmed to have ended.
If null, most recently asserted/corrected time has been confirmed.</td>
<td>Time that the person in this role validated the disassociation.</td></tr>
<tr class="odd"><td>W-Wrong</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td></tr></tbody></table></p>
</div>
<div class="paragraph">
<p><strong>PRT-16 Participation Device Identifier (EI)</strong></p>
</div>
<div class="paragraph">
<p><strong>Definition:</strong> Provides the U.S.
FDA UDI device identifier (DI) element.</p>
</div>
<div class="paragraph">
<p>This is the first component in the UDI and acts as the look up key for the Global Unique Device Identification Database (GUDID), and may be used for retrieving additional attributes.</p>
</div>
<div class="paragraph">
<p>When exchanging Device Identifiers (DI) the root shall be the OID, or standards&#8217; appropriate corollary to the OID, assigned to DI and the extension shall be the Human Readable Form of the content.
For example, for DIs the root shall be:</p>
</div>
<div class="paragraph">
<p>GS1 DIs: 2.51.1.1</p>
</div>
<div class="paragraph">
<p>HIBCC DIs: 1.0.15961.10.816</p>
</div>
<div class="paragraph">
<p>ICCBBA DIs: 2.16.840.1.113883.6.18.1.17 for Blood containers and 2.16.840.1.113883.6.18.1.34 otherwise.</p>
</div>
<div class="paragraph">
<p>Example: |00643169001763^^2.51.1.1^ISO|</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_2_device_patient_association_query_message">A.2 Device-Patient Association Query Message</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_a_2_1_scope">A.2.1 Scope</h3>
<div class="paragraph">
<p>This query allows a system to request a list of the device-patient associations meeting specified conditions.
Note that &#8220;snapshot&#8221; and &#8220;subscription&#8221; request modes are supported.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a_2_2_use_case_roles">A.2.2 Use Case Roles</h3>

</div>
<div class="sect2">
<h3 id="_a_2_3_details_of_device_patient_association_query_message_pcd_19">A.2.3 Details of Device-Patient Association Query Message [PCD-19]</h3>
<div class="paragraph">
<p>This message is used by a Device-Patient Association Consumer to request device-patient association information from a Device-Patient Association Manager, specifying filtering by patient identification, by location or by device identification.
It may also be limited to a particular time (often the time the message is originated), a time interval, or it may specify an open-ended time interval, signifying that the Device-Patient Association Consumer is requesting an ongoing real-time subscription to device-patient association information (possibly filtered as just described) that is received from Device-Patient Association Reporters.
The query takes the form of a QSB publish and subscribe query as described in HL7 Chapter 5, Section 5.7.3.1.
It is almost identical to the profile for the QSB^Z83^QSB_Q16 trigger with ORU^R01^ORU_R01 response trigger described in Section 5.7.3.1 of the HL7 specification except that the query parameters are different to accommodate the semantics of filtering for device-patient associations, and the observation reports given as the response to the query, while conforming to the ORU_R01 message structure, have the specific semantics of transaction Device-Patient Association Reports [PCD-17].</p>
</div>
<div class="paragraph">
<p>For identification, the arbitrary &#8220;local&#8221; (i.e., not issued by the HL7 organization) trigger event Z66 is used for the query/subscription message.
This applies for initial testing but is subject to change before this profile is submitted for final text.</p>
</div>
<div class="paragraph">
<p>Table A.2.3-1: Query Profile</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Statement ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z66</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publish</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Patient Association Query</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Trigger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QSB^Z66^QSB_Q16</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Trigger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORU^R01^ORU_R01</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Characteristics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns device-patient associations as constrained in the input parameters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Purpose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends device-patient association records, filtered as defined in input parameters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Characteristics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The response contains [PCD-17] device-patient association reports known to the Device-Patient Association Manager, filtered by the query parameters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Based on Segment Pattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R01 as constrained by transaction [PCD-01] (see details in PCD TF-2 3.10 and with the semantics of transaction [PCD-17] as in this profile.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Table A.2.3-2: QBP^Z66^QBP^QBP_Z66 Query Grammar - QBP Message Segments</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Segments</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">HL7 Section Reference</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message Header Segment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.15.9</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{SFT}]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Software Segment</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[UAC]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Authentication Credential</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.14.13</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">QPD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Parameter Definition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5.4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Control Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5.6</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For the segment pattern to be expected in the response to this query, see the definition of the ORU^R01 Message Structure in PCD TF-2, which is a specialization of the ORU^R01 Message Structure in HL7 Chapter 7, Section 7.3.1, ORU&#8201;&#8212;&#8201;Unsolicited Observation Message (Event R01), as follows:</p>
</div>
<div class="paragraph">
<p>Table A.2.3-3: Query Response Message Structure</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Segments</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message Header</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{ SFT }]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Software Segment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[UAC]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Authentication Credential</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Patient Identification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[PV1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Patient Visit Information (for room bed)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OBR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Observation Request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>One group for each device being associated with patient identified in the PID</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OBX</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Observation Result</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{ PRT }</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Participation&#8201;&#8212;&#8201;<em>One PRT segment for device, one for responsible person</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">}</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that this segment pattern, unlike some segment patterns, is not introduced by any &#8220;header&#8221; type extra segments, but instead is a straight sequenced of repeats of [PCD-17] messages reporting device-patient association events, filtered according to the query parameters.
This implies that it should be the same connection as the query was sent from the Device-Patient Association Consumer to the Device-Patient Association Manager, so there can be no confusion with other messages not from this profile.
Since there is no end indication in the message sequence, either, in the case of a bolus query getting current state information (see the discussion under the RCP segment, RCP-3), the Device-Patient Association Manager will close the connection initiated by the Device-Patient Association Consumer when all the data have been sent.
A new connection must then be connected if and when another query is sent.</p>
</div>
<div class="sect3">
<h4 id="_a_2_3_1_msh_segment">A.2.3.1 MSH Segment</h4>
<div class="paragraph">
<p>As for transaction [PCD-01] in PCD TF-2 Appendix B.1, except that MSH-21 is valued as IHE_PCD_017^IHE PCD^1.3.6.1.4.1.19376.1.6.4.19^ISO.</p>
</div>
</div>
<div class="sect3">
<h4 id="_a_2_3_2_qpd_segment">A.2.3.2 QPD Segment</h4>
<div class="paragraph">
<p>Table A.2.3.2-1: QPD - Query Parameter Definition</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Optionality</th>
<th class="tableblock halign-left valign-top">Length</th>
<th class="tableblock halign-left valign-top">Table</th>
<th class="tableblock halign-left valign-top">Repetition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">QPD.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message Query Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">250</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">471</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">QPD.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">QPD.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Parameters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VARIES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">QPD.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">323</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Table A.2.3.2-2: QPD Input Parameter Specification<table style="width:100%;"><colgroup><col style="width: 11%"></col>
<col style="width: 19%"></col>
<col style="width: 7%"></col>
<col style="width: 7%"></col>
<col style="width: 7%"></col>
<col style="width: 6%"></col>
<col style="width: 7%"></col>
<col style="width: 12%"></col>
<col style="width: 19%"></col></colgroup>
<thead><tr class="header"><th>Field<br></br>
Seq<br></br>
(Query ID=Z99)</th>
<th>Name</th>
<th>LEN</th>
<th>DT</th>
<th>OPT</th>
<th>R/#</th>
<th>TBL</th>
<th>Segment<br></br>
Field Name</th>
<th>Element<br></br>
Name</th></tr></thead>
<tbody><tr class="odd"><td>1</td>
<td>MessageQueryName</td>
<td>60</td>
<td>CWE</td>
<td>R</td>
<td></td>
<td></td>
<td></td>
<td>MessageQueryName</td></tr>
<tr class="even"><td>2</td>
<td>QueryTag</td>
<td>32</td>
<td>ST</td>
<td>R</td>
<td></td>
<td></td>
<td></td>
<td>QueryTag</td></tr>
<tr class="odd"><td>3</td>
<td>User Parameters</td>
<td></td>
<td>ID</td>
<td>0</td>
<td></td>
<td>033</td>
<td></td>
<td>ActionCode</td></tr></tbody></table></p>
</div>
<div class="paragraph">
<p>Table A.2.3.2-3: Identifiers for field, component, or subcomponent in QPD.3 User Parameters</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FLD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ELEMENT NAME</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PID.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Patient Identifier List&#8201;&#8212;&#8201;ID number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PV1.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assignes Patient Location&#8201;&#8212;&#8201;Point of Care</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PV1.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assigned Patient Location&#8201;&#8212;&#8201;Room</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PV1.3.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assigned Patient Location&#8201;&#8212;&#8201;Bed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PRT.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Participation Device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OBR.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Observation Date/Time (start)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OBR.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Observation End Date/Time</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The QueryTag (QPD.2) is used to identify a query instance and therefore must be unique for each query.</p>
</div>
<div class="paragraph">
<p>The User Parameters field (QPD.3) is used to specify &#8220;filtering&#8221; values, so that the query response can be limited to, for example, the records matching a particular Patient Identifier (by including a PID.3 specification), a particular device (by adding a Participation Device PRT specification) and so on.
If multiple specifications are given, the responding system "`AND`"s the specifications together, so that for example, a patient identifier and a device identifier specification result in the response only gives associations involving that patient and device.</p>
</div>
<div class="paragraph">
<p>The form of the User Parameters specifications in QPD.3 field uses one or more repetition of the CSC data type (separated by the HL7 repetition separator, by default the tilde character ~), one for each query parameter to be specified, with each repetition using the QSC data type.
This data type takes the form of a component specifying the field, component, or subcomponent to filter on as @&lt;seg&gt;.&lt;field number&gt;.&lt;component number&gt;.&lt;subcomponent number&gt;, followed by a logical operator component (normally EQ for &#8220;equals&#8221;), and a component giving the value sought for that field.
An example would be:</p>
</div>
<div class="paragraph">
<p>@PID.3.1.1^EQ^MR123~@PRT.10^EQ^PUMP1</p>
</div>
<div class="paragraph">
<p>This means limit the messages given in response to ones involving patient identifier MR123 and device identifier PUMP1.</p>
</div>
<div class="paragraph">
<p>The Device-Patient Association Manager is responsible for executing the search in accordance with the filters.
The different query parameter filters are ANDed together, that is, only associations where all query parameters match the sought value will be sent by the Device-Patient Association Manager.</p>
</div>
<div class="paragraph">
<p>Where the association records have query parameter fields that are repeated (as for example where multiple patient identifiers of different Identifier Types, or multiple device identifiers of different Identifier Types, are present), the Device-Patient Association Manager will consider the association record matched and send it if any value present in any repeat of the repeated field matches the sought value without regard to the Identifier Type.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_a_2_4_rcp_segment">A.2.4 RCP Segment</h3>
<div class="paragraph">
<p>Table A.2.4-1: RCP - Response Control Parameter</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Optionality</th>
<th class="tableblock halign-left valign-top">Length</th>
<th class="tableblock halign-left valign-top">Table</th>
<th class="tableblock halign-left valign-top">Repetition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Limited Request</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Modality</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNE</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Execution and Deliver Time</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modify Indicatory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Table A.2.4-2: RCP Response Control Parameter Field Description and Commentary<table><colgroup><col style="width: 14%"></col>
<col style="width: 20%"></col>
<col style="width: 15%"></col>
<col style="width: 8%"></col>
<col style="width: 8%"></col>
<col style="width: 32%"></col></colgroup>
<thead><tr class="header"><th>Field Seq<br></br>
(Query ID=Z99)</th>
<th>Name</th>
<th>Component<br></br>
Name</th>
<th>LEN</th>
<th>DT</th>
<th>Description</th></tr></thead>
<tbody><tr class="odd"><td>1</td>
<td>Query Priority</td>
<td></td>
<td>1</td>
<td>ID</td>
<td>Deferred / Immediate</td></tr>
<tr class="even"><td>2</td>
<td>Quantity Limited Request</td>
<td></td>
<td>10</td>
<td>CQ</td>
<td>Not applicable, this profile does not support continuation</td></tr>
<tr class="odd"><td>3</td>
<td>Response Modality</td>
<td></td>
<td>60</td>
<td>CWE</td>
<td><strong>R</strong>eal time or <strong>B</strong>atch. Default is
<strong>R</strong>.</td></tr>
<tr class="even"><td>5</td>
<td>Execution and Delivery Time</td>
<td></td>
<td></td>
<td>DTM</td>
<td>Only valued when RCP-1 Query Priority contains the value D
(deferred)</td></tr>
<tr class="odd"><td>6</td>
<td>Modify Indicator</td>
<td></td>
<td></td>
<td></td>
<td></td></tr></tbody></table></p>
</div>
<div class="paragraph">
<p>The possible values for RCP-1, Query Priority, are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deferred</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">I</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Immediate</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Quantity limited requests are not supported, so RCP-2 Quantity Limited Request value is not used.</p>
</div>
<div class="paragraph">
<p>The supported values of RCP-3 Response Modality are R (Real Time) or T (Bolus).</p>
</div>
<div class="paragraph">
<p>In bolus mode all the available associations are sent at once.
A Device-Patient Association Manager supporting the Snapshot Option must support this mode.
The Device-Patient Association Consumer wanting a continuous real-time feed of association events may need to make a bolus query first to get all existing associations meeting the desired filter specification to get the starting state.</p>
</div>
<div class="paragraph">
<p>In real-time mode, association records are sent as they arrive at the Device-Patient Association Manager.
A Device-Patient Association Manager supporting the Snapshot Option must support this mode of operation, and a Device-Patient Association Consumer supporting the Snapshot option must be able to process the segment pattern.</p>
</div>
<div class="paragraph">
<p>Because the segment pattern for real-time mode has no start or end indication, the Device-Patient Association Manager will signal the completion of a bolus query by closing the connection to the Device-Patient Association Consumer.
The Device-Patient Association Consumer will then make a new connection for the real-time continuing query.</p>
</div>
<div class="paragraph">
<p>RCP-4 Execution and Delivery Time is required when RCP-1 contains the value of RCP-1 D (Deferred).
It specifies when the response is to be returned.</p>
</div>
<div class="paragraph">
<p>RCP-5 Modify Indicator specifies whether a new subscription is being requested (value: N), or a modification is being made to an existing subscription (M).
QPD-4 Action Code can signify the deletion of a subscription with a value of D.</p>
</div>
<div class="paragraph">
<p>[.anchor]##A.2.5 Cancelling a Subscription</p>
</div>
<div class="paragraph">
<p>A subscription may be explicitly cancelled by the Device-Patient Association Consumer by sending a QSX^J66^QSX_J01 message, which is simply an MSH segment containing that string as MSH-9, followed by a QID segment identifying the subscription being cancelled with QID Query Identification Segment containing in field QID-1 the Query Tag (from QPD-2 of the original query establishing the subscription) and in QID-2 the Message Query Name (from QPD-1 of the original query).
See Appendix Section A.4 Example Messages, example 4.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_3_register_device">A.3 Register Device</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These messages are used to report the introduction of a new device or the removal of a device to subscribing actors, including the Device Patient Association Manager.</p>
</div>
<div class="paragraph">
<p>As the list of devices available within the facility is best thought of as a master file, the HL7 Master File Notification paradigm is used.
For lack of a better alternative, the PRT segment is used to convey device details.
While most commonly used to indicate a device&#8217;s participation in an observation, it contains the necessary fields for device inventory and is used elsewhere in this profile.</p>
</div>
<div class="sect2">
<h3 id="_a_3_1_message_structure">A.3.1 Message Structure</h3>
<div class="paragraph">
<p>Table A.3.1-1: Report Device Patient Association</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Segments</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message Header</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{ SFT }]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Software Segment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[UAC]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Authentication Credential</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MFI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Master File Identification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">{</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MFE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Master File Entry</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PRT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Participation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">}</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>MSH, SFT, and UAC Segments: Same as DEC Profile.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a_3_2_segments">A.3.2 Segments</h3>
<div class="sect3">
<h4 id="_a_3_2_1_mshmessage_header">A.3.2.1 MSH&#8201;&#8212;&#8201;Message Header</h4>
<div class="paragraph">
<p>MSH-9 is valued to MFN^M14^MFN_PRT</p>
</div>
</div>
<div class="sect3">
<h4 id="_a_3_2_2_mfimaster_file_identification_segment">A.3.2.2 MFI&#8201;&#8212;&#8201;Master File Identification Segment</h4>
<div class="paragraph">
<p>This segment identifies the master file as the Device Master.</p>
</div>
<div class="paragraph">
<p>Table A.3.2.2-1: MFI Fields</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>SEQ</strong></th>
<th class="tableblock halign-left valign-top"><strong>DT</strong></th>
<th class="tableblock halign-left valign-top"><strong>OPT</strong></th>
<th class="tableblock halign-left valign-top"><strong>RP</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CWE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Master File Identifier&#8201;&#8212;&#8201;Value to INV (Inventory)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Master File Application Identifier&#8201;&#8212;&#8201;Value to &#8220;Device Registrant&#8221;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File-Level Event Code&#8201;&#8212;&#8201;Value to UPD (Update)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response Level Code&#8201;&#8212;&#8201;Value to NE (No application level response needed)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_a_3_2_3_mfemaster_file_entry">A.3.2.3 MFE&#8201;&#8212;&#8201;Master File Entry</h4>
<div class="paragraph">
<p>This segment communicates the event corresponding to the device record.</p>
</div>
<div class="paragraph">
<p>Table A.3.2.3-1: MFE Fields</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>SEQ</strong></th>
<th class="tableblock halign-left valign-top"><strong>DT</strong></th>
<th class="tableblock halign-left valign-top"><strong>OPT</strong></th>
<th class="tableblock halign-left valign-top"><strong>RP</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Record-Level Event Code (see table below)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary Key Value (Hospital designated device identifier)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary Key Value Type (Value to CWE)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DTM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Entered Date/Time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DTM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Effective Date/Time</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Table A.3.2.3-2: Record Level Event Codes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device added to inventory list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MDL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device deleted from inventory list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MUP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device information updated</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MDC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device deactivated, but remains on inventory list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deactivated device reactivated</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_a_3_2_4_prtparticipation_information_segment">A.3.2.4. PRT&#8201;&#8212;&#8201;Participation Information Segment</h4>
<div class="paragraph">
<p>The Participation Information Segment contains device information details.
Use the PRT segment details as in Appendix Section 0.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_4_example_messages">A.4 Example Messages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Example 1: At 12:00, Nurse Diesel connected patient Spaniel to a continuous physiological monitor with ID MON5588.
At 12:30, she records the association on the Critical Care application.
As she is an RN and has witnessed and entered the association on the Critical Care system, this is considered a validated association.
This message would be sent from the Critical Care system in the role of Association Reporter to the Association Manager.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>MSH|^~\&amp;|CritCare||AssocMgr||20160726123002||ORU^R01^ORU_R01|12d15a9|P|2.7|||AL|AL||8859/1|||IHE_PCD_017^IHE PCD^1.3.6.1.4.1.19376.1.6.4.17^ISO
PID|||AB60001^^^A^PI||Spaniel^C^R^^^^L
PV1||E|3 WEST ICU^3001^1
OBR|||15404652
OBX|1|CWE|68487^MDCX_ATTR_EVT_COND^MDC||0^MDCX_DEV_ASSOCIATE^MDC||||||F
PRT|1|UC||EQUIP||||||3 WEST ICU^3001^1|MON5588^^231A8456B1CB2366^EUI-64|20160726120000
PRT|2|UC||RO|58793^Diesel^N||||3 WEST ICU^3001^1||20160726123000</pre>
</div>
</div>
<div class="paragraph">
<p>The Association Manager first responds with the following commit level acknowledgment.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>MSH|^~\&amp;|AssocMgr||CritCare||20160726123002||ACK^R01^ACK||P|2.7
MSA|CA|12d15a9</pre>
</div>
</div>
<div class="paragraph">
<p>Once the association is fully processed, the Association Manager responds by initiating the following application level acknowledgment</p>
</div>
<div class="literalblock">
<div class="content">
<pre>MSH|^~\&amp;|AssocMgr||CritCare||20160726123003||ACK^R01^ACK|AM52E123|P|2.7|||AL|NE||8859/1|||IHE_PCD_017^IHE PCD^1.3.6.1.4.1.19376.1.6.4.17^ISO
MSA|AA|12d15a9</pre>
</div>
</div>
<div class="paragraph">
<p>To which the Association Reporter responds with a commit level acknowledgement, completing the exchange.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>MSH|^~\&amp;|CritCare||AssocMgr||20160726123003||ACK^R01^ACK||P|2.7
MSA|CA|AM52E123</pre>
</div>
</div>
<div class="paragraph">
<p>Example 2: At 16:00, Nurse Ratched connected patient McMurphy to a continuous physiological monitor with ID MON5596.
She enters his patient ID on the monitor and presses a button causing the association to be asserted.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>MSH|^~\&amp;|MonitorGateway||AssocMgr||20160726160000||ORU^R01^ORU_R01|12d1574|P|2.7|||AL|AL||8859/1|||IHE_PCD_017^IHE PCD^1.3.6.1.4.1.19376.1.6.4.17^ISO
PID|||AB60001^^^A^PI||McMurphy^R^P^^^^L
PV1||E|3 WEST ICU^3001^1
OBR|||15404697
OBX|1|CWE|68487^MDCX_ATTR_EVT_COND^MDC||0^MDCX_DEV_ASSOCIATE^MDC||||||R
PRT|1|UC||EQUIP||||||3 WEST ICU^3001^1|MON5588^^231A8456B1CB2366^EUI-64|20160726160000
PRT|1|UC||AUT||||||3 WEST ICU^3001^1|MON5588^^231A8456B1CB2366^EUI-64|20160726160000</pre>
</div>
</div>
<div class="paragraph">
<p>(Acknowledgment messages not shown)</p>
</div>
<div class="paragraph">
<p>The Association Manager may then broadcast this information to subscribers (such as Critical Care), or its clients (such as Critical Care) may query for this information, depending on how the systems are integrated.</p>
</div>
<div class="paragraph">
<p>At 16:45, she confirms the association on the Critical Care application (or the Association Manager, depending on how the systems are integrated).
This message would be sent from the Critical Care system in the role of Association Reporter to the Association Manager.</p>
</div>
<div class="paragraph">
<p>Example 3.
A new monitor with hospital assigned key MON5588 is registered.
It is located at 3 West ICU, Room 3001, Bed 1.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>MSH|^~\&amp;|DeviceMaster||AssocMgr||20160726160000||MFN^M14^MFN_PRT|12d1574|P|2.7|||AL|AL||8859/1|||IHE_PCD_020^IHE PCD^1.3.6.1.4.1.19376.1.6.4.20^ISO
MFI|INV|Device Registrant|UPD|||NE
MFE|MAD|||MON5588|CWE
PRT|1|UC||EQUIP|||||3 WEST ICU^3001^1|MON5588^^231A8456B1CB2366^EUI-64|20160726160000</pre>
</div>
</div>
<div class="paragraph">
<p>Example 4.
A device controller needs an ongoing feed of all devices connected to patient with identifier . The controller opens a subscription to the Device-Patient Association Manager to get a filtered device-patient information feed of the relevant data:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>MSH|^~\&amp;|||MonitoringGateway||AssocMgr||QSB^Q66^QSB_Q16||P|2.8|
QPD|Q66^Device-Patient Subscription|Q0044|@PID.3.1^AB60001|
RCP|I||R|||N|</pre>
</div>
</div>
<div class="paragraph">
<p>The Device-Patient Association Manager responds by starting a continuous stream of Device-Patient Association [PCD-17] messages, starting with message(s) giving the current device associations of the patient (which will require the Device-Patient Association Manager to access that information and format it in [PCD-17] form).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>MSH|^~\&amp;|MonitoringGateway|||COMWEST||||ORU^R01^ORU_R01|4409|P|2.8|
PID|||4567^^^MPI^MR|....
OBR|....
OBX|...</pre>
</div>
</div>
<div class="paragraph">
<p>To cancel the subscription, the Device-Patient Association Consumer can send the following cancel message:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>MSH|
QID|Q0044|Q66^Device-Patient Subscription^HL7005|</pre>
</div>
</div>
<div class="paragraph">
<p>[.anchor]##Volume 3&#8201;&#8212;&#8201;Content Modules</p>
</div>
<div class="paragraph">
<p>NA</p>
</div>
<div class="paragraph">
<p>[.anchor]##Volume 4&#8201;&#8212;&#8201;National Extensions</p>
</div>
<div class="paragraph">
<p>Add appropriate Country section</p>
</div>
</div>
</div>
<h1 id="_4_national_extensions" class="sect0">4 National Extensions</h1>
<div class="openblock partintro">
<div class="content">
None
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. HL7 is the registered trademark of Health Level Seven International.
</div>
</div>
<div id="footer">
<div id="footer-text">
Version Revision 1.2 - Trial Implementation<br>
Last updated 2023-07-20 19:53:09 -0700
</div>
</div>
</body>
</html>